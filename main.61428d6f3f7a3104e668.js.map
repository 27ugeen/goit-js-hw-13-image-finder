{"version":3,"sources":["webpack:///./utils/messages.js","webpack:///./utils/pnotify.js","webpack:///./utils/refs.js","webpack:///./services/apiService.js","webpack:///./services/buildMarkup.js","webpack:///./utils/browserHeight.js","webpack:///./app.js","webpack:///./utils/scroll.js","webpack:///./templates/gallery.hbs"],"names":["messages","text","PNotify","defaults","styling","icons","messageNeedInput","info","refs","searchForm","document","querySelector","gallery","loadMoreBtn","body","apiService","page","query","fetchImages","requestParams","this","fetch","resp","json","hits","incrementPage","string","resetPage","then","data","items","item","listItems","insertAdjacentHTML","success","error","catch","console","warn","currentHeight","setCurrentHeightValue","appendHeight","documentElement","clientHeight","addEventListener","debounce","event","keyCode","preventDefault","input","target","value","innerHTML","searchQuery","setTimeout","scrollOptions","left","top","behavior","window","scrollTo","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","likes","views","comments","downloads","stack1","each","program","noop"],"mappings":"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","file":"main.61428d6f3f7a3104e668.js","sourcesContent":["'use strict';\r\n\r\nconst messages = {\r\n  needInput: { text: 'Please enter something' },\r\n  badInput: {\r\n    text: 'No images found. Please try again!',\r\n  },\r\n  noItem: { text: 'No more images. Please try another query!' },\r\n  success: { text: 'Take the result!'}\r\n};\r\n\r\nexport { messages };\r\n","import PNotify from 'pnotify/dist/es/PNotify.js';\r\n// import PNotifyButtons from '../../node_modules/pnotify/dist/es/PNotifyButtons.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\n\r\nimport { messages } from './messages';\r\n\r\n// // Set default styling.\r\nPNotify.defaults.styling = 'material';\r\n// // This icon setting requires the Material Icons font. (See below.)\r\nPNotify.defaults.icons = 'material';\r\n\r\nconst messageNeedInput = () => PNotify.info(messages.needInput);\r\nconst messageBadInput = () => PNotify.error(messages.badInput);\r\nconst noMoreImages = () => PNotify.error(messages.noItem);\r\nconst messageTakeResult = () => PNotify.success(messages.success);\r\n\r\n// function allertMessage(message) {\r\n//   PNotify.alert(message);\r\n// }\r\n\r\nexport {\r\n  messageNeedInput,\r\n  messageBadInput,\r\n  noMoreImages,\r\n  messageTakeResult,\r\n};\r\n","'use strict';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('#gallery'),\r\n  loadMoreBtn: document.querySelector('button[data-action=\"load-more\"]'),\r\n  body: document.body,\r\n};\r\n\r\nexport { refs };\r\n","'use strict';\r\n\r\n// https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '14594113-3565582ddf884392468dadf7f';\r\n\r\nconst apiService = {\r\n  page: 1,\r\n  query: '',\r\n\r\n  async fetchImages() {\r\n    const requestParams = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${API_KEY}`;\r\n\r\n    const resp = await fetch(URL + requestParams);\r\n    const { hits } = await resp.json();\r\n    this.incrementPage();\r\n    return hits;\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  incrementPage() {\r\n    this.page ++;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n\r\n// apiService();\r\n\r\nexport { apiService };\r\n","'use strict';\r\n\r\nimport { refs } from '../utils/refs';\r\nimport gallery from '../templates/gallery.hbs';\r\nimport { apiService } from './apiService';\r\nimport { messageBadInput, messageTakeResult } from '../utils/pnotify';\r\n\r\nconst insertItems = item => {\r\n  refs.gallery.insertAdjacentHTML('beforeend', item);\r\n};\r\n\r\nconst createList = items => {\r\n  return gallery(items);\r\n};\r\n\r\nconst deleteItem = () => {\r\n  refs.gallery.innerHTML = '';\r\n};\r\nconst fetchImages = () => {\r\n  apiService\r\n    .fetchImages()\r\n    .then(data => {\r\n      const listItems = createList(data);\r\n      insertItems(listItems);\r\n      if (listItems) {\r\n        messageTakeResult();\r\n      } else {\r\n        messageBadInput();\r\n        return;\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.warn(error);\r\n    });\r\n};\r\n\r\nexport { fetchImages, insertItems, createList, deleteItem };\r\n","'use strict';\r\n\r\nconst getBrowserHeight = () => {\r\n  const browserHeight = document.documentElement.clientHeight;\r\n\r\n  return browserHeight;\r\n};\r\n\r\nlet currentHeight = 0;\r\n\r\nconst setCurrentHeightValue = appendHeight => {\r\n  appendHeight = getBrowserHeight();\r\n\r\n  currentHeight = currentHeight + appendHeight * 2;\r\n\r\n  return currentHeight;\r\n};\r\n\r\nexport { setCurrentHeightValue };\r\n","'use strict';\r\n\r\nimport debounce from 'lodash.debounce';\r\nimport { messageNeedInput } from './utils/pnotify';\r\n\r\nimport { refs } from './utils/refs';\r\nimport { apiService } from './services/apiService';\r\n\r\nimport { fetchImages, deleteItem } from './services/buildMarkup';\r\nimport { scrollPage } from './utils/scroll';\r\n\r\nconst searchFromInput = event => {\r\n  if (event.keyCode === 13) {\r\n    event.preventDefault();\r\n\r\n    const input = event.target;\r\n    if (input.value === '') {\r\n      messageNeedInput();\r\n      return;\r\n    }\r\n\r\n    deleteItem();\r\n\r\n    // console.log(input);\r\n    apiService.resetPage();\r\n    apiService.searchQuery = input.value;\r\n    fetchImages();\r\n  }\r\n\r\n  // input.value = '';\r\n};\r\n\r\nconst loadMoreBtnHandler = () => {\r\n  const input = apiService.query;\r\n\r\n  if (!input) {\r\n    messageNeedInput();\r\n    return;\r\n  }\r\n  fetchImages();\r\n\r\n  setTimeout(() => scrollPage(), 1500);\r\n};\r\n\r\nrefs.searchForm.addEventListener('keyup', debounce(searchFromInput, 500));\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\r\n","'use strict';\r\n\r\nimport { setCurrentHeightValue } from './browserHeight';\r\n\r\nconst scrollPage = () => {\r\n  setTimeout(() => {\r\n    let height = setCurrentHeightValue();\r\n\r\n    const scrollOptions = {\r\n      left: 0,\r\n      top: height,\r\n      behavior: 'smooth',\r\n    };\r\n\r\n    window.scrollTo(scrollOptions);\r\n  }, 0);\r\n};\r\n\r\nexport { scrollPage };\r\n\r\n//======================================\r\n\r\n// const container = refs.body;\r\n\r\n//   container.style.height = 'auto';\r\n\r\n//   /** Get the computed height of the container. */\r\n//   const height = container.clientHeight + 'px';\r\n\r\n//   /** Set the height of the content as 0px, */\r\n//   /** so we can trigger the slide down animation. */\r\n//   container.style.height = '0px';\r\n\r\n//   /** Do this after the 0px has applied. */\r\n//   /** It's like a delay or something. MAGIC! */\r\n//   setTimeout(() => {\r\n//     container.style.height = height;\r\n//   }, 0);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li>\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"640\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":9,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":13,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":16},\"end\":{\"line\":17,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":21,\"column\":29}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}